{
    "global": {
        "title": "Macro Hero",
        "variables": {
            "playerName": {
                "expression": "Local.value('playerName', 'Unknown Hero')"
            }
        }
    },
    "pages": [
        {
            "label": "General",
            "variables": {
                "token": {
                    "expression": "'57cefc5e-23b0-40f8-ad32-31a1c331c501'"
                },
                "hp": {
                    "expression": "100"
                },
                "speedBonus": {
                    "expression": "GoogleSheets.getValue('MacroHero', 'A1')"
                },
                "atkBonus": {
                    "expression": "floor({speedBonus} / 10)"
                },
                "defBonus": {
                    "expression": "1"
                },
                "isBandaged": {
                    "expression": "ConditionsMarkers.isCondition({token}, 'Bandaged')"
                },
                "bandagedValue": {
                    "expression": "ConditionsMarkers.getValue({token}, 'Bandaged')"
                },
                "trackerStatus": {
                    "expression": "OwlTrackers.getValue({token}, 'HP')"
                }
            },
            "layout": [
                {
                    "type": "title",
                    "text": "General Actions"
                },
                {
                    "type": "row",
                    "children": [
                        {
                            "type": "value",
                            "var": "speedBonus",
                            "label": "speedBonus Label"
                        },
                        {
                            "type": "value",
                            "var": "atkBonus",
                            "label": "Bonus ATK"
                        }
                    ]
                },
                {
                    "type": "button",
                    "commands": [
                        "JustDices.roll('1d20 + {atkBonus}')"
                    ],
                    "label": "Roll Attack"
                },
                {
                    "type": "row",
                    "children": [
                        {
                            "type": "value",
                            "var": "isBandaged",
                            "label": "isBandaged"
                        },
                        {
                            "type": "value",
                            "var": "bandagedValue",
                            "label": "bandagedValue"
                        }
                    ]
                },
                {
                    "type": "title",
                    "text": "Owl Trackers Integration"
                },
                {
                    "type": "row",
                    "children": [
                        {
                            "type": "value",
                            "var": "trackerStatus",
                            "label": "Tracker HP"
                        }
                    ]
                },
                {
                    "type": "button",
                    "commands": [
                        "OwlTrackers.setValue({token}, 'HP', floor(OwlTrackers.getValue({token}, 'HP')*1.1))"
                    ],
                    "label": "Heal 1 tick"
                },
                {
                    "type": "button",
                    "commands": [
                        "{isBandaged} ? OwlTrackers.addValue({token}, 'HP', 10) : OwlTrackers.addValue({token}, 'HP', -10)"
                    ],
                    "label": "Test Button"
                },
                {
                    "type": "button",
                    "commands": [
                        "JustDices.roll('1d20 + {atkBonus}') > 15 ? OwlTrackers.addValue({token}, 'HP', 5) : OwlTrackers.addValue({token}, 'HP', -5)"
                    ],
                    "label": "Roll Attack (>15 = heal, <=15 = damage)"
                }
            ]
        },
        {
            "label": "Advanced",
            "variables": {
                "customVar": {
                    "expression": "'Custom Value'"
                }
            },
            "layout": [
                {
                    "type": "title",
                    "text": "Advanced Actions"
                },
                {
                    "type": "value",
                    "var": "customVar",
                    "label": "Custom Variable"
                }
            ]
        }
    ]
}