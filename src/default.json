{
    "global": {
        "title": "Macro Hero",
        "width": 800,
        "height": 600,
        "variables": {
            "playerName": {
                "expression": "Local.value('playerName', 'myGlobalVarPlayerName')"
            }
        }
    },
    "pages": [
        {
            "label": "Integrations",
            "variables": {
                "token": {
                    "expression": "'57cefc5e-23b0-40f8-ad32-31a1c331c501'"
                },
                "sheetValue": {
                    "expression": "GoogleSheets.getValue('Xalithra Général', 'G26:I26')"
                },
                "inputName": {
                    "expression": "'Enter name here'"
                },
                "isBandaged": {
                    "expression": "ConditionsMarkers.hasCondition({token}, 'Bandaged')"
                },
                "conditionValue": {
                    "expression": "ConditionsMarkers.getValue({token}, 'Bandaged')"
                },
                "trackerHP": {
                    "expression": "OwlTrackers.getValue({token}, 'HP')"
                },
                "trackerMaxHP": {
                    "expression": "OwlTrackers.getMax({token}, 'HP')"
                },
                "bubbleHealth": {
                    "expression": "StatBubbles.getValue({token}, 'health')"
                },
                "bubbleMaxHealth": {
                    "expression": "StatBubbles.getValue({token}, 'max health')"
                },
                "bubbleAC": {
                    "expression": "StatBubbles.getValue({token}, 'armor class')"
                },
                "ringColors": {
                    "expression": "ColoredRings.getRings({token})"
                },
                "hasBlueRing": {
                    "expression": "ColoredRings.hasRing({token}, '#1a6aff')"
                },
                "prettyHasInitiative": {
                    "expression": "PrettySordid.hasInitiative({token})"
                },
                "prettyInitiativeCount": {
                    "expression": "PrettySordid.getInitiativeCount({token})"
                },
                "prettyActive": {
                    "expression": "PrettySordid.isActiveTurn({token})"
                }
            },
            "layout": [
                {
                    "type": "title",
                    "text": "Google Sheets"
                },
                {
                    "type": "text",
                    "content": "Read values from Google Sheets (requires API key)"
                },
                {
                    "type": "row",
                    "children": [
                        {
                            "type": "value",
                            "var": "sheetValue",
                            "label": "Cell A1"
                        }
                    ]
                },
                {
                    "type": "divider"
                },
                {
                    "type": "title",
                    "text": "Conditions Markers"
                },
                {
                    "type": "text",
                    "content": "Check and read condition markers on tokens"
                },
                {
                    "type": "row",
                    "children": [
                        {
                            "type": "value",
                            "var": "isBandaged",
                            "label": "Has Bandaged?"
                        },
                        {
                            "type": "value",
                            "var": "conditionValue",
                            "label": "Bandaged Value"
                        }
                    ]
                },
                {
                    "type": "button",
                    "commands": [
                        "{isBandaged} ? OwlTrackers.addValue({token}, 'HP', 10) : OwlTrackers.addValue({token}, 'HP', -5)"
                    ],
                    "label": "Heal if Bandaged"
                },
                {
                    "type": "button",
                    "commands": [
                        "ConditionsMarkers.toggleCondition({token}, 'Bandaged')"
                    ],
                    "label": "Toggle Bandage"
                },
                {
                    "type": "button",
                    "commands": [
                        "ConditionsMarkers.addCondition({token}, 'Bandaged', {{conditionValue}+1})"
                    ],
                    "label": "Increment Bandage"
                },
                {
                    "type": "divider"
                },
                {
                    "type": "title",
                    "text": "Owl Trackers"
                },
                {
                    "type": "text",
                    "content": "Get and modify tracker values on tokens"
                },
                {
                    "type": "row",
                    "children": [
                        {
                            "type": "value",
                            "var": "trackerHP",
                            "label": "HP"
                        },
                        {
                            "type": "value",
                            "var": "trackerMaxHP",
                            "label": "Max HP"
                        }
                    ]
                },
                {
                    "type": "row",
                    "children": [
                        {
                            "type": "button",
                            "commands": [
                                "OwlTrackers.addValue({token}, 'HP', 10)"
                            ],
                            "label": "Heal 10"
                        },
                        {
                            "type": "button",
                            "commands": [
                                "OwlTrackers.addValue({token}, 'HP', -5)"
                            ],
                            "label": "Damage 5"
                        }
                    ]
                },
                {
                    "type": "button",
                    "commands": [
                        "OwlTrackers.setValue({token}, 'HP', {trackerMaxHP})"
                    ],
                    "label": "Heal to Max"
                },
                {
                    "type": "divider"
                },
                {
                    "type": "title",
                    "text": "StatBubbles"
                },
                {
                    "type": "text",
                    "content": "Manage health, AC, and temp HP via StatBubbles extension"
                },
                {
                    "type": "row",
                    "children": [
                        {
                            "type": "value",
                            "var": "bubbleHealth",
                            "label": "Health"
                        },
                        {
                            "type": "value",
                            "var": "bubbleMaxHealth",
                            "label": "Max"
                        },
                        {
                            "type": "value",
                            "var": "bubbleAC",
                            "label": "AC"
                        }
                    ]
                },
                {
                    "type": "row",
                    "children": [
                        {
                            "type": "button",
                            "commands": [
                                "StatBubbles.heal({token}, 15)"
                            ],
                            "label": "Heal 15"
                        },
                        {
                            "type": "button",
                            "commands": [
                                "StatBubbles.damage({token}, 8)"
                            ],
                            "label": "Damage 8"
                        }
                    ]
                },
                {
                    "type": "row",
                    "children": [
                        {
                            "type": "button",
                            "commands": [
                                "StatBubbles.setValue({token}, 'temporary health', 20)"
                            ],
                            "label": "Set Temp HP 20"
                        },
                        {
                            "type": "button",
                            "commands": [
                                "StatBubbles.addValue({token}, 'armor class', 2)"
                            ],
                            "label": "AC +2"
                        }
                    ]
                },
                {
                    "type": "divider"
                },
                {
                    "type": "title",
                    "text": "Colored Rings"
                },
                {
                    "type": "text",
                    "content": "Add and remove colored status rings on tokens"
                },
                {
                    "type": "row",
                    "children": [
                        {
                            "type": "value",
                            "var": "hasBlueRing",
                            "label": "Has Blue Ring?"
                        }
                    ]
                },
                {
                    "type": "row",
                    "children": [
                        {
                            "type": "button",
                            "commands": [
                                "ColoredRings.addRing({token}, '#1a6aff')"
                            ],
                            "label": "Add Blue"
                        },
                        {
                            "type": "button",
                            "commands": [
                                "ColoredRings.addRing({token}, '#ff7433')"
                            ],
                            "label": "Add Orange"
                        },
                        {
                            "type": "button",
                            "commands": [
                                "ColoredRings.addRing({token}, '#00ff00')"
                            ],
                            "label": "Add Green"
                        }
                    ]
                },
                {
                    "type": "row",
                    "children": [
                        {
                            "type": "button",
                            "commands": [
                                "ColoredRings.removeRing({token}, '#1a6aff')"
                            ],
                            "label": "Remove Blue"
                        },
                        {
                            "type": "button",
                            "commands": [
                                "ColoredRings.removeRing({token}, '#ff7433')"
                            ],
                            "label": "Remove Orange"
                        },
                        {
                            "type": "button",
                            "commands": [
                                "ColoredRings.removeRing({token}, '#00ff00')"
                            ],
                            "label": "Remove Green"
                        }
                    ]
                },
                {
                    "type": "divider"
                },
                {
                    "type": "title",
                    "text": "Pretty Sordid"
                },
                {
                    "type": "text",
                    "content": "Example compatibility for the PrettySordid / Pretty Initiative extension — read and modify initiative stored in token metadata."
                },
                {
                    "type": "row",
                    "children": [
                        {
                            "type": "value",
                            "var": "prettyHasInitiative",
                            "label": "Has Initiative?"
                        },
                        {
                            "type": "value",
                            "var": "prettyInitiativeCount",
                            "label": "Initiative"
                        },
                        {
                            "type": "value",
                            "var": "prettyActive",
                            "label": "Active?"
                        }
                    ]
                },
                {
                    "type": "row",
                    "children": [
                        {
                            "type": "button",
                            "commands": [
                                "PrettySordid.hasInitiative({token}) ? PrettySordid.setInitiativeCount({token}, PrettySordid.getInitiativeCount({token}) + 1) : PrettySordid.setInitiativeCount({token}, 1)"
                            ],
                            "label": "Increment / Assign 1"
                        },
                        {
                            "type": "button",
                            "commands": [
                                "PrettySordid.hasInitiative({token}) ? PrettySordid.setInitiativeCount({token}, PrettySordid.getInitiativeCount({token}) - 1) : null"
                            ],
                            "label": "Decrement"
                        },
                        {
                            "type": "button",
                            "commands": [
                                "PrettySordid.setInitiativeCount({token}, 0)"
                            ],
                            "label": "Reset to 0"
                        }
                    ]
                },
                {
                    "type": "divider"
                },
                {
                    "type": "title",
                    "text": "JustDices"
                },
                {
                    "type": "text",
                    "content": "Roll dice and get results in Owlbear Rodeo"
                },
                {
                    "type": "row",
                    "children": [
                        {
                            "type": "button",
                            "commands": [
                                "JustDices.roll('1d20')"
                            ],
                            "label": "Roll d20"
                        },
                        {
                            "type": "button",
                            "commands": [
                                "JustDices.roll('2d6 + 3')"
                            ],
                            "label": "Roll 2d6+3"
                        }
                    ]
                },
                {
                    "type": "button",
                    "commands": [
                        "JustDices.roll('1d20 + {bubbleAC}') > 15 ? StatBubbles.damage({token}, 10) : null"
                    ],
                    "label": "Attack Roll (DC 15)"
                },
                {
                    "type": "divider"
                },
                {
                    "type": "title",
                    "text": "Local Storage"
                },
                {
                    "type": "text",
                    "content": "Store and retrieve values in browser localStorage"
                },
                {
                    "type": "input",
                    "var": "inputName",
                    "label": "Enter Name",
                    "placeholder": "Type a name..."
                },
                {
                    "type": "row",
                    "children": [
                        {
                            "type": "button",
                            "commands": [
                                "JustDices.roll('Global Player Name: ' + {playerName})"
                            ],
                            "label": "Show Global Name"
                        },
                        {
                            "type": "button",
                            "commands": [
                                "JustDices.roll('Input Name: ' + {inputName})"
                            ],
                            "label": "Show Input Name"
                        }
                    ]
                },
                {
                    "type": "button",
                    "commands": [
                        "Local.set('playerName', 'Xalithra')"
                    ],
                    "label": "Save Player Name"
                },
                {
                    "type": "button",
                    "commands": [
                        "JustDices.roll('Player: ' + Local.value('playerName', 'Unknown'))"
                    ],
                    "label": "Show Player Name"
                }
            ]
        },
        {
            "label": "Layout",
            "variables": {
                "textVar": {
                    "expression": "'Hello World'"
                },
                "numberVar": {
                    "expression": "42"
                },
                "counterVar": {
                    "expression": "10"
                },
                "checkboxVar": {
                    "expression": "true"
                },
                "inputVar": {
                    "expression": "'Enter text here'"
                }
            },
            "layout": [
                {
                    "type": "title",
                    "text": "Layout Examples"
                },
                {
                    "type": "text",
                    "content": "This page demonstrates all available layout types"
                },
                {
                    "type": "divider"
                },
                {
                    "type": "title",
                    "text": "Display Types"
                },
                {
                    "type": "row",
                    "children": [
                        {
                            "type": "value",
                            "var": "textVar",
                            "label": "Text Value"
                        },
                        {
                            "type": "value",
                            "var": "numberVar",
                            "label": "Number Value"
                        }
                    ]
                },
                {
                    "type": "divider"
                },
                {
                    "type": "title",
                    "text": "Input Types"
                },
                {
                    "type": "row",
                    "children": [
                        {
                            "type": "counter",
                            "var": "counterVar",
                            "label": "Counter",
                            "step": 5
                        },
                        {
                            "type": "counter",
                            "var": "numberVar",
                            "label": "Counter (step 1)"
                        }
                    ]
                },
                {
                    "type": "input",
                    "var": "inputVar",
                    "label": "Text Input",
                    "placeholder": "Type something..."
                },
                {
                    "type": "checkbox",
                    "var": "checkboxVar",
                    "label": "Checkbox Example"
                },
                {
                    "type": "divider"
                },
                {
                    "type": "title",
                    "text": "Stack Demo"
                },
                {
                    "type": "text",
                    "content": "Demonstrates the `stack` container."
                },
                {
                    "type": "row",
                    "children": [
                        {
                            "type": "text",
                            "content": "This is a row containing a stack:"
                        },
                        {
                            "type": "stack",
                            "children": [
                                {
                                    "type": "value",
                                    "var": "textVar",
                                    "label": "Base Value"
                                },
                                {
                                    "type": "button",
                                    "label": "Button",
                                    "commands": [
                                        "JustDices.roll('1d6')"
                                    ]
                                },
                                {
                                    "type": "button",
                                    "label": "Button",
                                    "commands": [
                                        "JustDices.roll('1d6')"
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "divider"
                },
                {
                    "type": "title",
                    "text": "Button"
                },
                {
                    "type": "button",
                    "label": "Example Button",
                    "commands": [
                        "JustDices.roll('1d20')"
                    ]
                }
            ]
        },
        {
            "label": "Tests",
            "variables": {
                "spdCS": { "expression": "15" },
                "floorResult": { "expression": "floor({spdCS} / 2)" }
            },
            "layout": [
                {
                    "type": "title",
                    "text": "Testing Area"
                },
                {
                    "type": "text",
                    "content": "Use this page for testing new features and commands."
                },
                {
                    "type": "row",
                    "children": [
                        {
                            "type": "value",
                            "var": "spdCS",
                            "label": "spdCS"
                        },
                        {
                            "type": "value",
                            "var": "floorResult",
                            "label": "floor({spdCS}/2)"
                        }
                    ]
                },
                {
                    "type": "button",
                    "commands": [
                        "JustDices.roll('floorResult: ' + {floorResult})"
                    ],
                    "label": "Show floor result"
                },
                {
                    "type": "button",
                    "commands": [
                        "n = '1d10'; JustDices.roll(n)"
                    ],
                    "label": "Test Roll"
                },
                {
                    "type": "button",
                    "commands": [
                        "n = '1d10'",
                        "JustDices.roll(n)"
                    ],
                    "label": "Test Roll2"
                }
            ]
        }
    ]
}