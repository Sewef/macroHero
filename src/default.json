{
    "global": {
        "title": "Macro Hero",
        "variables": {
            "playerName": {
                "expression": "Local.value('playerName', 'Unknown Hero')"
            }
        }
    },
    "pages": [
        {
            "label": "General",
            "variables": {
                "token": {
                    "expression": "'57cefc5e-23b0-40f8-ad32-31a1c331c501'"
                },
                "hp": {
                    "expression": "100"
                },
                "speedBonus": {
                    "expression": "GoogleSheets.getValue('MacroHero', 'A1')"
                },
                "atkBonus": {
                    "expression": "floor({speedBonus} / 10)"
                },
                "defBonus": {
                    "expression": "1"
                },
                "isBandaged": {
                    "expression": "ConditionsMarkers.isCondition({token}, 'Marked')"
                },
                "bandagedValue": {
                    "expression": "ConditionsMarkers.getValue({token}, 'Marked')"
                },
                "trackerStatus": {
                    "expression": "OwlTrackers.getValue({token}, 'HP')"
                }
            },
            "layout": [
                {
                    "type": "title",
                    "text": "General Actions"
                },
                {
                    "type": "row",
                    "children": [
                        {
                            "type": "value",
                            "var": "speedBonus",
                            "label": "speedBonus Label"
                        },
                        {
                            "type": "value",
                            "var": "atkBonus",
                            "label": "Bonus ATK"
                        }
                    ]
                },
                {
                    "type": "button",
                    "commands": [
                        "JustDices.roll('1d20 + {atkBonus}')"
                    ],
                    "label": "Roll Attack"
                },
                {
                    "type": "row",
                    "children": [
                        {
                            "type": "value",
                            "var": "isBandaged",
                            "label": "isBandaged"
                        },
                        {
                            "type": "value",
                            "var": "bandagedValue",
                            "label": "bandagedValue"
                        }
                    ]
                },
                {
                    "type": "title",
                    "text": "Owl Trackers Integration"
                },
                {
                    "type": "row",
                    "children": [
                        {
                            "type": "value",
                            "var": "trackerStatus",
                            "label": "Tracker HP"
                        }
                    ]
                },
                {
                    "type": "button",
                    "commands": [
                        "OwlTrackers.setValue({token}, 'HP', floor(OwlTrackers.getValue({token}, 'HP')*1.1))"
                    ],
                    "label": "Heal 1 tick"
                },
                {
                    "type": "button",
                    "commands": [
                        "{isBandaged} ? OwlTrackers.addValue({token}, 'HP', 10) : OwlTrackers.addValue({token}, 'HP', -10)"
                    ],
                    "label": "Test Button"
                },
                {
                    "type": "button",
                    "commands": [
                        "JustDices.roll('1d20 + {atkBonus}') > 15 ? OwlTrackers.addValue({token}, 'HP', 5) : OwlTrackers.addValue({token}, 'HP', -5)"
                    ],
                    "label": "Roll Attack (>15 = heal, <=15 = damage)"
                }
            ]
        },
        {
            "label": "Advanced",
            "variables": {
                "textVar": {
                    "expression": "'Hello World'"
                },
                "numberVar": {
                    "expression": "42"
                },
                "counterVar": {
                    "expression": "10"
                },
                "checkboxVar": {
                    "expression": "true"
                },
                "inputVar": {
                    "expression": "'Enter text here'"
                }
            },
            "layout": [
                {
                    "type": "title",
                    "text": "Layout Examples"
                },
                {
                    "type": "text",
                    "content": "This page demonstrates all available layout types"
                },
                {
                    "type": "divider"
                },
                {
                    "type": "title",
                    "text": "Display Types"
                },
                {
                    "type": "row",
                    "children": [
                        {
                            "type": "value",
                            "var": "textVar",
                            "label": "Text Value"
                        },
                        {
                            "type": "value",
                            "var": "numberVar",
                            "label": "Number Value"
                        }
                    ]
                },
                {
                    "type": "divider"
                },
                {
                    "type": "title",
                    "text": "Input Types"
                },
                {
                    "type": "row",
                    "children": [
                        {
                            "type": "counter",
                            "var": "counterVar",
                            "label": "Counter",
                            "step": 5
                        },
                        {
                            "type": "counter",
                            "var": "numberVar",
                            "label": "Counter (step 1)"
                        }
                    ]
                },
                {
                    "type": "input",
                    "var": "inputVar",
                    "label": "Text Input",
                    "placeholder": "Type something..."
                },
                {
                    "type": "checkbox",
                    "var": "checkboxVar",
                    "label": "Checkbox Example"
                },
                {
                    "type": "divider"
                },
                {
                    "type": "title",
                    "text": "Button"
                },
                {
                    "type": "button",
                    "label": "Example Button",
                    "commands": [
                        "JustDices.roll('1d20')"
                    ]
                }
            ]
        },
        {
            "label": "Xalithra",
            "variables": {
                "token": {
                    "expression": "'57cefc5e-23b0-40f8-ad32-31a1c331c501'"
                },
                "stats": {
                    "expression": "GoogleSheets.getRange('Xalithra Général', 'T4:T8')"
                },
                "atk": {
                    "expression": "{stats[0]}"
                },
                "def": {
                    "expression": "{stats[1]}"
                },
                "spatk": {
                    "expression": "{stats[2]}"
                },
                "spdef": {
                    "expression": "{stats[3]}"
                },
                "spd": {
                    "expression": "{stats[4]}"
                },
                "injuries": {
                    "expression": "OwlTrackers.getValue({token}, 'Injuries')"
                },
                "pushItToTheLimit": {
                    "expression": "false"
                },
                "weaponDB": {
                    "expression": "GoogleSheets.getValue('Xalithra Général', 'G35')"
                }
            },
            "layout": [
                {
                    "type": "title",
                    "text": "Xalithra Stats"
                },
                {
                    "type": "row",
                    "children": [
                        {
                            "type": "value",
                            "var": "atk",
                            "label": "ATK"
                        },
                        {
                            "type": "value",
                            "var": "def",
                            "label": "DEF"
                        },
                        {
                            "type": "value",
                            "var": "spatk",
                            "label": "SP.ATK"
                        },
                        {
                            "type": "value",
                            "var": "spdef",
                            "label": "SP.DEF"
                        },
                        {
                            "type": "value",
                            "var": "spd",
                            "label": "SPD"
                        }
                    ]
                },
                {
                    "type":"divider"
                },
                {
                    "type":"row",
                    "children":[
                        {
                            "type":"checkbox",
                            "var":"pushItToTheLimit",
                            "label":"Push it to the Limit"
                        },
                        {
                            "type":"value",
                            "var":"injuries",
                            "label":"Injuries"
                        }
                    ]
                },
                {
                    "type": "button",
                    "commands": [
                        "{pushItToTheLimit} ? JustDices.roll('db{6+{weaponDB}/3+{injuries}}') : JustDices.roll('1d20')"
                    ],
                    "label": "Fléau"
                }
            ]
        }
    ]
}